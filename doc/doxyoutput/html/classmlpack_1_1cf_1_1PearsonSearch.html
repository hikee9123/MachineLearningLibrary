<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>mlpack: PearsonSearch Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extra-stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">mlpack
   &#160;<span id="projectnumber">3.4.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacemlpack.html">mlpack</a></li><li class="navelem"><a class="el" href="namespacemlpack_1_1cf.html">cf</a></li><li class="navelem"><a class="el" href="classmlpack_1_1cf_1_1PearsonSearch.html">PearsonSearch</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classmlpack_1_1cf_1_1PearsonSearch-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">PearsonSearch Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Nearest neighbor search with pearson distance (or furthest neighbor search with pearson correlation).  
 <a href="classmlpack_1_1cf_1_1PearsonSearch.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:affe8eece29c0967f401bf689bf324c23"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlpack_1_1cf_1_1PearsonSearch.html#affe8eece29c0967f401bf689bf324c23">PearsonSearch</a> (const arma::mat &amp;referenceSet)</td></tr>
<tr class="memdesc:affe8eece29c0967f401bf689bf324c23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor with reference set.  <a href="#affe8eece29c0967f401bf689bf324c23">More...</a><br /></td></tr>
<tr class="separator:affe8eece29c0967f401bf689bf324c23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ce7aae85679ed26a716bcb8d7c8ee7b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlpack_1_1cf_1_1PearsonSearch.html#a5ce7aae85679ed26a716bcb8d7c8ee7b">Search</a> (const arma::mat &amp;query, const size_t k, arma::Mat&lt; size_t &gt; &amp;neighbors, arma::mat &amp;similarities)</td></tr>
<tr class="memdesc:a5ce7aae85679ed26a716bcb8d7c8ee7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a set of query points, find the nearest k neighbors, and return similarities.  <a href="#a5ce7aae85679ed26a716bcb8d7c8ee7b">More...</a><br /></td></tr>
<tr class="separator:a5ce7aae85679ed26a716bcb8d7c8ee7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Nearest neighbor search with pearson distance (or furthest neighbor search with pearson correlation). </p>
<p>Note that, with normalized vectors, neighbor search with pearson distance is equivalent to neighbor search with Euclidean distance. Therefore, instead of performing neighbor search directly with pearson distance, we first normalize all vectors, and then use <a class="el" href="namespacemlpack_1_1neighbor.html#ac8d70069e8acb12c5ba9a8536ae6ace4" title="The KNN class is the k-nearest-neighbors method. ">neighbor::KNN</a> (i.e. NeighborSearch with Euclidean distance, KDTree). Pearson correlation are calculated from Euclidean distance.</p>
<p>An example of how to use <a class="el" href="classmlpack_1_1cf_1_1PearsonSearch.html" title="Nearest neighbor search with pearson distance (or furthest neighbor search with pearson correlation)...">PearsonSearch</a> in CF is shown below:</p>
<div class="fragment"><div class="line"><span class="keyword">extern</span> arma::mat data; <span class="comment">// data is a (user, item, rating) table.</span></div><div class="line"><span class="comment">// Users for whom recommendations are generated.</span></div><div class="line"><span class="keyword">extern</span> arma::Col&lt;size_t&gt; users;</div><div class="line">arma::Mat&lt;size_t&gt; recommendations; <span class="comment">// Resulting recommendations.</span></div><div class="line"></div><div class="line">CFType&lt;&gt; cf(data);</div><div class="line"></div><div class="line"><span class="comment">// Generate 10 recommendations for all users.</span></div><div class="line">cf.template GetRecommendations&lt;PearsonSearch&gt;(10, recommendations);</div></div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="pearson__search_8hpp_source.html#l00045">45</a> of file <a class="el" href="pearson__search_8hpp_source.html">pearson_search.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="affe8eece29c0967f401bf689bf324c23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affe8eece29c0967f401bf689bf324c23">&#9670;&nbsp;</a></span>PearsonSearch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmlpack_1_1cf_1_1PearsonSearch.html">PearsonSearch</a> </td>
          <td>(</td>
          <td class="paramtype">const arma::mat &amp;&#160;</td>
          <td class="paramname"><em>referenceSet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor with reference set. </p>
<p>In order to use <a class="el" href="namespacemlpack_1_1neighbor.html#ac8d70069e8acb12c5ba9a8536ae6ace4" title="The KNN class is the k-nearest-neighbors method. ">neighbor::KNN</a>(i.e. NeighborSearch with Euclidean distance, KDTree), we need to normalize all vectors in referenceSet. For each vector x, we first subtract mean(x) from each element in x. Then, we normalize the vector to unit length.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">referenceSet</td><td>Set of reference points. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="pearson__search_8hpp_source.html#l00057">57</a> of file <a class="el" href="pearson__search_8hpp_source.html">pearson_search.hpp</a>.</p>

<p class="reference">References <a class="el" href="classmlpack_1_1neighbor_1_1NeighborSearch.html#a27ba39af83e3cb01f2e6fbec159adf0e">NeighborSearch&lt; SortPolicy, MetricType, MatType, TreeType, DualTreeTraversalType, SingleTreeTraversalType &gt;::Train()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a5ce7aae85679ed26a716bcb8d7c8ee7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ce7aae85679ed26a716bcb8d7c8ee7b">&#9670;&nbsp;</a></span>Search()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Search </td>
          <td>(</td>
          <td class="paramtype">const arma::mat &amp;&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arma::Mat&lt; size_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>neighbors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arma::mat &amp;&#160;</td>
          <td class="paramname"><em>similarities</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Given a set of query points, find the nearest k neighbors, and return similarities. </p>
<p>Similarities are non-negative and no larger than one.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">query</td><td>A set of query points. </td></tr>
    <tr><td class="paramname">k</td><td>Number of neighbors to search. </td></tr>
    <tr><td class="paramname">neighbors</td><td>Nearest neighbors. </td></tr>
    <tr><td class="paramname">similarities</td><td>Similarities between query point and its neighbors. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="pearson__search_8hpp_source.html#l00078">78</a> of file <a class="el" href="pearson__search_8hpp_source.html">pearson_search.hpp</a>.</p>

<p class="reference">References <a class="el" href="classmlpack_1_1neighbor_1_1NeighborSearch.html#a0de302ca0602fe721ac01f073d5e630f">NeighborSearch&lt; SortPolicy, MetricType, MatType, TreeType, DualTreeTraversalType, SingleTreeTraversalType &gt;::Search()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/aakash/mlpack/src/mlpack/methods/cf/neighbor_search_policies/<a class="el" href="pearson__search_8hpp_source.html">pearson_search.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
<script type="text/javascript">
var x = document.querySelectorAll("img.formulaDsp");
var i;
for (i = 0; i < x.length; i++)
{
  x[i].width = x[i].offsetWidth / 4;
}
</script>
</html>
