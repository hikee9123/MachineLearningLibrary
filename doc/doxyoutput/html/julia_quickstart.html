<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>mlpack: mlpack in Julia quickstart guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extra-stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">mlpack
   &#160;<span id="projectnumber">3.4.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">mlpack in Julia quickstart guide </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="julia_quickstart_intro"></a>
Introduction</h1>
<p>This page describes how you can quickly get started using mlpack from Julia and gives a few examples of usage, and pointers to deeper documentation.</p>
<p>This quickstart guide is also available for <a class="el" href="python_quickstart.html">Python</a>, <a class="el" href="cli_quickstart.html">the command-line</a>, <a class="el" href="go_quickstart.html">Go</a> and <a class="el" href="r_quickstart.html">R</a>.</p>
<h1><a class="anchor" id="julia_quickstart_install"></a>
Installing mlpack</h1>
<p>Installing the mlpack bindings for Julia is straightforward; you can just use <code>Pkg:</code> </p>
<div class="fragment"><div class="line">using Pkg</div><div class="line">Pkg.add(&quot;mlpack&quot;)</div></div><!-- fragment --><p>Building the Julia bindings from scratch is a little more in-depth, though. For information on that, follow the instructions on the <a class="el" href="build.html">Building mlpack From Source</a> page, and be sure to specify <code>-DBUILD_JULIA_BINDINGS=ON</code> to CMake; you may need to also set the location of the Julia program with <code>-DJULIA_EXECUTABLE=/path/to/julia</code>.</p>
<h1><a class="anchor" id="julia_quickstart_example"></a>
Simple mlpack quickstart example</h1>
<p>As a really simple example of how to use mlpack from Julia, let's do some simple classification on a subset of the standard machine learning <code>covertype</code> dataset. We'll first split the dataset into a training set and a testing set, then we'll train an mlpack random forest on the training data, and finally we'll print the accuracy of the random forest on the test dataset.</p>
<p>You can copy-paste this code directly into Julia to run it. You may need to add some extra packages with, e.g., <code>using Pkg; Pkg.add("CSV"); Pkg.add("DataFrames"); Pkg.add("Libz")</code>.</p>
<div class="fragment"><div class="line">using CSV</div><div class="line">using DataFrames</div><div class="line">using Libz</div><div class="line">using mlpack</div><div class="line"></div><div class="line"># Load the dataset from an online URL.  Replace with &#39;covertype.csv.gz&#39; if you</div><div class="line"># want to use on the full dataset.</div><div class="line">df = CSV.read(ZlibInflateInputStream(open(download(</div><div class="line">        &quot;http://www.mlpack.org/datasets/covertype-small.csv.gz&quot;))))</div><div class="line"></div><div class="line"># Split the labels.</div><div class="line">labels = df[!, :label][:]</div><div class="line">dataset = select!(df, Not(:label))</div><div class="line"></div><div class="line"># Split the dataset using mlpack.</div><div class="line">test, test_labels, train, train_labels = mlpack.preprocess_split(</div><div class="line">    dataset,</div><div class="line">    input_labels=labels,</div><div class="line">    test_ratio=0.3)</div><div class="line"></div><div class="line"># Train a random forest.</div><div class="line">rf_model, _, _ = mlpack.random_forest(training=train,</div><div class="line">                              labels=train_labels,</div><div class="line">                              print_training_accuracy=true,</div><div class="line">                              num_trees=10,</div><div class="line">                              minimum_leaf_size=3)</div><div class="line"></div><div class="line"># Predict the labels of the test points.</div><div class="line">_, predictions, _ = mlpack.random_forest(input_model=rf_model,</div><div class="line">                                         test=test)</div><div class="line"></div><div class="line"># Now print the accuracy.  The third return value (&#39;probabilities&#39;), which we</div><div class="line"># ignored here, could also be used to generate an ROC curve.</div><div class="line">correct = sum(predictions .== test_labels)</div><div class="line">print(&quot;$(correct) out of $(length(test_labels)) test points correct &quot; *</div><div class="line">    &quot;($(correct / length(test_labels) * 100.0)%).\n&quot;)</div></div><!-- fragment --><p>We can see that we achieve reasonably good accuracy on the test dataset (80%+); if we use the full <code>covertype.csv.gz</code>, the accuracy should increase significantly (but training will take longer).</p>
<p>It's easy to modify the code above to do more complex things, or to use different mlpack learners, or to interface with other machine learning toolkits.</p>
<h1><a class="anchor" id="julia_quickstart_whatelse"></a>
What else does mlpack implement?</h1>
<p>The example above has only shown a little bit of the functionality of mlpack. Lots of other commands are available with different functionality. A full list of each of these commands and full documentation can be found on the following page:</p>
<ul>
<li><a href="https://www.mlpack.org/doc/mlpack-git/julia_documentation.html">Julia documentation</a></li>
</ul>
<p>You can also use the Julia REPL to explore the <code>mlpack</code> module and its functions; every function comes with comprehensive documentation.</p>
<p>For more information on what mlpack does, see <a href="https://www.mlpack.org/">https://www.mlpack.org/</a>. Next, let's go through another example for providing movie recommendations with mlpack.</p>
<h1><a class="anchor" id="julia_quickstart_movierecs"></a>
Using mlpack for movie recommendations</h1>
<p>In this example, we'll train a collaborative filtering model using mlpack's <code><a href="https://www.mlpack.org/doc/mlpack-git/julia_documentation.html#cf">cf()</a></code> method. We'll train this on the MovieLens dataset from <a href="https://grouplens.org/datasets/movielens/,">https://grouplens.org/datasets/movielens/,</a> and then we'll use the model that we train to give recommendations.</p>
<p>You can copy-paste this code directly into Julia to run it.</p>
<div class="fragment"><div class="line">using CSV</div><div class="line">using mlpack</div><div class="line">using Libz</div><div class="line">using DataFrames</div><div class="line"></div><div class="line"># Load the dataset from an online URL.  Replace with &#39;covertype.csv.gz&#39; if you</div><div class="line"># want to use on the full dataset.</div><div class="line">ratings = CSV.read(ZlibInflateInputStream(open(download(</div><div class="line">        &quot;http://www.mlpack.org/datasets/ml-20m/ratings-only.csv.gz&quot;))))</div><div class="line">movies = CSV.read(ZlibInflateInputStream(open(download(</div><div class="line">        &quot;http://www.mlpack.org/datasets/ml-20m/movies.csv.gz&quot;))))</div><div class="line"></div><div class="line"># Hold out 10% of the dataset into a test set so we can evaluate performance.</div><div class="line">ratings_test, _, ratings_train, _ = mlpack.preprocess_split(ratings;</div><div class="line">    test_ratio=0.1, verbose=true)</div><div class="line"></div><div class="line"># Train the model.  Change the rank to increase/decrease the complexity of the</div><div class="line"># model.</div><div class="line">_, cf_model = mlpack.cf(training=ratings_train,</div><div class="line">                        test=ratings_test,</div><div class="line">                        rank=10,</div><div class="line">                        verbose=true,</div><div class="line">                        algorithm=&quot;RegSVD&quot;)</div><div class="line"></div><div class="line"># Now query the 5 top movies for user 1.</div><div class="line">output, _ = mlpack.cf(input_model=cf_model,</div><div class="line">                      query=[1],</div><div class="line">                      recommendations=10,</div><div class="line">                      verbose=true,</div><div class="line">                      max_iterations=10)</div><div class="line"></div><div class="line">print(&quot;Recommendations for user 1:\n&quot;)</div><div class="line">for i in 1:10</div><div class="line">  print(&quot;  $(i): $(movies[output[i], :][3])\n&quot;)</div><div class="line">end</div></div><!-- fragment --><p>Here is some example output, showing that user 1 seems to have good taste in movies:</p>
<div class="fragment"><div class="line">Recommendations for user 1:</div><div class="line">  0: Casablanca (1942)</div><div class="line">  1: Pan&#39;s Labyrinth (Laberinto del fauno, El) (2006)</div><div class="line">  2: Godfather, The (1972)</div><div class="line">  3: Answer This! (2010)</div><div class="line">  4: Life Is Beautiful (La Vita è bella) (1997)</div><div class="line">  5: Adventures of Tintin, The (2011)</div><div class="line">  6: Dark Knight, The (2008)</div><div class="line">  7: Out for Justice (1991)</div><div class="line">  8: Dr. Strangelove or: How I Learned to Stop Worrying and Love the Bomb (1964)</div><div class="line">  9: Schindler&#39;s List (1993)</div></div><!-- fragment --><h1><a class="anchor" id="julia_quickstart_nextsteps"></a>
Next steps with mlpack</h1>
<p>Now that you have done some simple work with mlpack, you have seen how it can easily plug into a data science workflow in Julia. A great thing to do next would be to look at more documentation for the Julia mlpack bindings:</p>
<ul>
<li><a href="https://www.mlpack.org/doc/mlpack-git/julia_documentation.html">Julia mlpack binding documentation</a></li>
</ul>
<p>Also, mlpack is much more flexible from C++ and allows much greater functionality. So, more complicated tasks are possible if you are willing to write C++ (or perhaps CxxWrap.jl). To get started learning about mlpack in C++, the following resources might be helpful:</p>
<ul>
<li><a href="https://www.mlpack.org/doc/mlpack-git/doxygen/tutorials.html">mlpack C++ tutorials</a></li>
<li><a href="https://www.mlpack.org/doc/mlpack-git/doxygen/build.html">mlpack build and installation guide</a></li>
<li><a href="https://www.mlpack.org/doc/mlpack-git/doxygen/sample.html">Simple sample C++ mlpack programs</a></li>
<li><a href="https://www.mlpack.org/doc/mlpack-git/doxygen/index.html">mlpack Doxygen documentation homepage</a> </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
<script type="text/javascript">
var x = document.querySelectorAll("img.formulaDsp");
var i;
for (i = 0; i < x.length; i++)
{
  x[i].width = x[i].offsetWidth / 4;
}
</script>
</html>
